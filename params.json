{"name":"Space Invaders 3D","tagline":"Projet de Synthèse d'Image Avancée","body":"Démo : [lien vers olympe.in](http://cfollet.olympe.in/projet_sia/space_invaders_3D.html)\r\n\r\n# Table des matières\r\n- [Les classes](#classes)\r\n- [Les details](#details)\r\n- [Les limites d'implémentation](#limites)\r\n- [Les librairies](#lib)\r\n\r\n\r\n<a name =\"classes\"></a>\r\n# Les classes \r\nEtant familiers avec la technologie orientée objet, nous avons décidé d'implémenter des classes en Javascript. Cette technologie est adaptée à ce style d'application, elle permet d'améliorer la lisibilité du code et sa modularité. Nous nous sommes aidé du site de [mozilla](https://developer.mozilla.org/fr/docs/Web/JavaScript/Introduction_%C3%A0_JavaScript_orient%C3%A9_objet).  \r\nNous avons quand même, pendant deux semaines, recommencé tout notre porjet encore et encore jusqu'à ce que l'organisation du code nous convienne, c'est un des aspects les plus important que nous avons voulu mener à bien pour que le jeu soit adaptatif et évolutif.\r\n\r\n- La classe *Game* contient l'ensemble du jeu, c'est à dire un *Environment*, le *Level* courant et le *Player*.\r\n\r\n- La classe *Environment* contient : les décors, lumières et particules.\r\n\r\n- La classe *Level* contient : l'armée ennemie et les défenses.\r\n\r\nPour ce qui est des classes décrivant les \"objets\" de notre jeu, à savoir : les invaders, le joueur, les défenses, les balles... Elles héritent de THREE.Group. Nous construisons chaque \"objet\" à l'aide d'une matrice produisant un ensemble de cubes de taille unitaire que nous ajoutons au groupe.  \r\nNous avons préféré cette approche au chargement de modèle pour des soucis de performance et un aspect rétro du jeu.  \r\nMais un schéma vaut mieux qu'un long discours : \r\n![Diagramme UML](https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/sia%20Class%20diagram.png)\r\n\r\n<a name =\"details\"></a>\r\n# Les details \r\n\r\n## La performance\r\nLa performance dans un jeu est primordiale, il fallait que ce jeu soit léger sans être minimaliste. Pour trouver un compromis nous avons du :  \r\n\r\n1. **Fusionner les objets** (à l'aide de merge) ne nécessitants pas de précision dessus (ie. une défense doit se détruire petit à petit, elle ne doit donc pas être fusionnée).\r\n2. A défaut d'avoir eu le temps (et la patience) de trouver une alternative aux Raycaster, nous avons du donner aux Raycaster un **ensemble de Mesh cibles minimal** (ie. pour le joueur, les aliens et les bunkers sont les seules cibles, donc inutile de faire scene.children).  \r\nLe jeu tourne en moyenne entre 30 et 60 FPS.\r\n\r\n## Les tirs\r\nUn tir est un action effectuée par un invader ou le joueur. Les particularités et le défis techniques des tirs sont :  \r\n\r\n1. Le tireur peut **tirer plusieurs balles**. Il suffit de créer un tableau de balle dans la classe du tireur, ensuite c'est au tireur de les détruire quand il le faut et de faire avancer ses balles.\r\n2. Les **balles sont éclairantes**. Ce défis nous à pas mal tracassé car Three.js ne permet pas de créer de façon élégante des lumières pendant l’exécution du renderer (cf [issue](https://github.com/mrdoob/three.js/issues/598)). Alors il a fallu créer une poignée de lumière sous chaque tireur.  \r\nCes lumières, initialement éteintes, s'allume lorsqu'une balle part d'un tireur et suit celle-ci puis s’éteint lorsque la balle et détruite.   \r\nL’effet est au rendez-vous, même si le WebGLRenderer classique ne supporte que 8 lumières à la fois ce qui a pour effet d'éteindre temporairement certaines lumière de l’environnement (La solution du WebGLDeferredRenderer à été exploré sans succès).\r\n3. La **vitesse des tirs** est gérée aléatoirement de même que la cadence des tirs ennemis.\r\n\r\n## L'armée\r\nL'**armée ennemie est \"hiérarchisée\"**. Elle contrôle des bataillons. Les bataillons eux, contrôlent leurs aliens. L'avantage d'avoir une organisation comme celle-ci est principalement la modularité. On peut créer différent type d'invaders, avec des valeurs de points différents, des mouvements différents et les incorporer a notre armée via des bataillons.  \r\nUn mouvement non similaire de chaque bataillon nécessite quand même de contrôler qu'il y ai non chevauchement si un bataillon va plus vite que son suivant.\r\n\r\n## L'intelligence artificielle\r\n\r\nNous avons simulé une pseudo IA par les points suivants :\r\n\r\n- Les aliens tire a **intervalle de temps aléatoire**, mais cet intervalle diminue en fonction de la difficulté.\r\n- Le bataillon sélectionne l'**alien le plus proche** du joueur comme candidat au tir\r\n\r\n## Le son\r\nL'introduction  du jeu se fait calmement avec une musique originale du film Interstellar : **Stay**.  \r\nNous avons voulu une ambiance  un peu disco, sombre et colorée. Avec un bon morceau de nos fameux robot Daft Punk : **Veridis Quo**.\r\nNous avons préféré  des musiques complètes à celles 8bits/game pour souligner les aspects aboutis et soignés de l'interface/du jeu.\r\n\r\n<a name =\"limites\"></a>\r\n# Les limites d'implémentation\r\n\r\n## La gestion des bibliothèques : Require JS\r\nIl s'agit dans cette étape, de constituer des modules à partir des différents fichiers javascript, qui seront chargés par la suite depuis un fichier javascript dit \"main\". Le but ici, étant d'optimiser le chargement des différents scripts et aussi de réduire le nombre d'appels de script dans le fichier principal html\r\n\r\n\r\n<a name =\"lib\"></a>\r\n# Les librairies\r\n\r\n- [Please.js](http://www.checkman.io/please/) : Pour la gestion de couleur automatique et aléatoire.\r\n- [Tween.js](https://github.com/tweenjs/tween.js) : Pour des animations fluides et naturelles.\r\n- [Threex.js](http://www.threejsgames.com/extensions/) : Parce que c'est la librairie dédiée au jeu de Three.js.\r\n- [ParticleEngine.js](http://squarefeet.github.io/ShaderParticleEngine/) : Parce que nous sommes dans l'espace, il nous fallait des  étoiles.\r\n- [Buzz.js](http://buzz.jaysalvat.com/) : Pour gérer la musique, les effets facilement.\r\n\r\n# Quelques captures\r\n\r\n![Screen](https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_1.png)\r\n\r\n![Screen](https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_2.png)\r\n\r\n![Screen](https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_3.png)\r\n\r\n![Screen](https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_4.png)\r\n\r\n![Screen](https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_5.png)\r\n\r\n![Screen](https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_6.png)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}