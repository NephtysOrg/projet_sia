<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on https://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="stylesheets/pygment_trac.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>Space Invaders 3D</title>
  <meta name="description" content="Projet de Synthèse d&#39;Images Avancée">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">Space Invaders 3D</h1>
    </header>
    <div id="container">
      <p class="tagline">Projet de Synthèse d&#39;Images Avancée</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/NephtysOrg/projet_sia/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/NephtysOrg/projet_sia/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/NephtysOrg/projet_sia" class="code">View Space Invaders 3D on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <p>Démo : <a href="http://cfollet.olympe.in/projet_sia/space_invaders_3D.html">lien vers olympe.in</a></p>

<h1>
<a id="table-des-matières" class="anchor" href="#table-des-mati%C3%A8res" aria-hidden="true"><span class="octicon octicon-link"></span></a>Table des matières</h1>

<ul>
<li><a href="#classes">Les classes</a></li>
<li><a href="#details">Les details</a></li>
<li><a href="#limites">Les limites d'implémentation</a></li>
<li><a href="#lib">Les librairies</a></li>
</ul>

<p><a name="classes"></a></p>

<h1>
<a id="les-classes" class="anchor" href="#les-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Les classes</h1>

<p>Familiers avec la technologie orientée objet, nous avons décidé d'implémenter des classes en Javascript. Cette technologie est adaptée à ce style d'application, elle permet d'améliorer la lisibilité du code et sa modularité. Nous nous sommes aidés du cours sur le site <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Introduction_%C3%A0_JavaScript_orient%C3%A9_objet">Mozilla</a>.<br>
Nous avons, pendant deux semaines, recommencé tout notre projet encore et encore jusqu'à ce que l'organisation du code nous convienne. L'architecture de notre code est un des aspects les plus important que nous avons voulu mener à bien pour que le jeu soit adaptatif et évolutif.</p>

<ul>
<li><p>La classe <em>Game</em> contient l'ensemble du jeu, c'est à dire un <em>Environment</em>, le <em>Level</em> courant et le <em>Player</em>.</p></li>
<li><p>La classe <em>Environment</em> contient : les décors, lumières et particules.</p></li>
<li><p>La classe <em>Level</em> contient : l'armée ennemie et les défenses.</p></li>
</ul>

<p>Pour ce qui est des classes décrivant les "objets" de notre jeu, à savoir : les invaders, le joueur, les défenses, les balles... Elles héritent de THREE.Group. Nous construisons chaque "objet" à l'aide d'une matrice produisant un ensemble de cubes de taille unitaire que nous ajoutons au groupe.<br>
Par soucis de performance et pour un aspect rétro du jeu, nous avons préféré cette approche au chargement de modèle.<br>
Mais un dessin vaut mieux qu'un long discours : 
<img src="https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/sia%20Class%20diagram.png" alt="Diagramme UML"></p>

<p><a name="details"></a></p>

<h1>
<a id="les-details" class="anchor" href="#les-details" aria-hidden="true"><span class="octicon octicon-link"></span></a>Les details</h1>

<h2>
<a id="la-performance" class="anchor" href="#la-performance" aria-hidden="true"><span class="octicon octicon-link"></span></a>La performance</h2>

<p>La performance dans un jeu est primordiale. Le jeu doit être léger sans être minimaliste. Pour trouver un compromis, nous avons du :  </p>

<ol>
<li>
<strong>Fusionner les objets</strong> (à l'aide de merge) ne nécessitant pas de précision dessus (ie. une défense se détruit petit à petit, elle ne doit donc pas être fusionnée sans quoi elle se comportera comme un bloc et se détruira comme un bloc).</li>
<li>A défaut d'avoir eu le temps et la patience de trouver une alternative aux Raycaster. Nous leurs avons donnés un <strong>ensemble de Mesh cibles minimal</strong> (ie. pour le joueur : les seules cibles sont les aliens et les bunkers. Inutile donc de passer scene.children).<br>
Le jeu tourne en moyenne entre 30 et 60 FPS.</li>
</ol>

<h2>
<a id="les-tirs" class="anchor" href="#les-tirs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Les tirs</h2>

<p>Un tir est une action effectuée par un invader ou un joueur. Les particularités et les défis techniques des tirs sont :  </p>

<ol>
<li>Le tireur peut <strong>tirer plusieurs missiles</strong>. Il suffit de créer un tableau de balles dans la classe du tireur. Ensuite, à lui de les détruire quand il le faut et de les faire avancer.</li>
<li>Les <strong>balles sont éclairantes</strong>. Ce défis nous a tracassé car Three.js ne permet pas de créer de façon élégante des lumières pendant l’exécution du renderer (cf <a href="https://github.com/mrdoob/three.js/issues/598">issue</a>). Il a fallu créer une poignée de lumières sous chaque tireur.<br>
Lorsqu'un missile part une des lumières s'allume et le suit. Elle s’éteint lorsqu'il est détruit.<br>
L’effet est au rendez-vous même si le WebGLRenderer classique ne supporte que 8 lumières à la fois. Cela a pour effet d'éteindre temporairement certaines lumières de l’environnement (la solution du WebGLDeferredRenderer a été explorée sans succès).</li>
<li>La <strong>vitesse des missiles</strong> et la cadence des tirs se gèrent aléatoirement.</li>
</ol>

<h2>
<a id="larmée" class="anchor" href="#larm%C3%A9e" aria-hidden="true"><span class="octicon octicon-link"></span></a>L'armée</h2>

<p>L'<strong>armée ennemie est "hiérarchisée"</strong>. Elle contrôle ses bataillons qui contrôlent leurs aliens. Le principal avantage d'avoir une telle organisation est la modularité. On peut créer différents types d'aliens, avec des valeurs de points différents, des mouvements différents, et les incorporer à l'armée dans des bataillons.<br>
Un mouvement non similaire de chaque bataillon nécessite néamoins de contrôler qu'il n'y ait pas chevauchement si un bataillon va plus vite que son suivant.</p>

<h2>
<a id="lintelligence-artificielle" class="anchor" href="#lintelligence-artificielle" aria-hidden="true"><span class="octicon octicon-link"></span></a>L'intelligence artificielle</h2>

<p>Nous avons simulé une pseudo IA par les points suivants :</p>

<ul>
<li>Les aliens tirent à <strong>intervalles de temps aléatoire</strong>, ils diminuent en fonction de la difficulté.</li>
<li>Le bataillon sélectionne l'<strong>alien le plus proche</strong> du joueur comme candidat au tir.</li>
</ul>

<h2>
<a id="le-son" class="anchor" href="#le-son" aria-hidden="true"><span class="octicon octicon-link"></span></a>Le son</h2>

<p>L'introduction  du jeu se fait calmement avec une musique originale du film Interstellar : <strong>Stay</strong>.<br>
Nous avons voulu une ambiance  un peu disco, sombre et colorée. Un bon morceau de nos fameux robots Daft Punk : <strong>Veridis Quo</strong>.
Nous avons préféré  des musiques complètes à celles des 8bits/game pour souligner les aspects aboutis et soignés de l'interface et du jeu.</p>

<p><a name="limites"></a></p>

<h1>
<a id="les-limites-dimplémentation" class="anchor" href="#les-limites-dimpl%C3%A9mentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Les limites d'implémentation</h1>

<h2>
<a id="la-gestion-des-bibliothèques--require-js" class="anchor" href="#la-gestion-des-biblioth%C3%A8ques--require-js" aria-hidden="true"><span class="octicon octicon-link"></span></a>La gestion des bibliothèques : Require JS</h2>

<p>Dans cette étape, nous devions constituer des modules à partir des différents fichiers javascript chargés depuis un fichier javascript dit "main". Le but était de réduire le nombre d'appels de script afin d'optimiser le chargement dans le fichier principal html.<br>
Arrivés en milieu de projet, nous n'avons donc pas réussi à intégrer ce gestionnaire.</p>

<p><a name="lib"></a></p>

<h1>
<a id="les-librairies" class="anchor" href="#les-librairies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Les librairies</h1>

<ul>
<li>
<a href="http://www.checkman.io/please/">Please.js</a> : Pour la gestion de couleurs automatiques et aléatoires.</li>
<li>
<a href="https://github.com/tweenjs/tween.js">Tween.js</a> : Pour des animations fluides et naturelles.</li>
<li>
<a href="http://www.threejsgames.com/extensions/">Threex.js</a> : Parce que c'est la librairie dédiée au jeu de Three.js.</li>
<li>
<a href="http://squarefeet.github.io/ShaderParticleEngine/">ParticleEngine.js</a> : Parce que nous sommes dans l'espace, il fallait des  étoiles.</li>
<li>
<a href="http://buzz.jaysalvat.com/">Buzz.js</a> : Pour gérer la musique et les effets audio.</li>
</ul>

<h1>
<a id="quelques-captures" class="anchor" href="#quelques-captures" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quelques captures</h1>

<p><img src="https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_1.png" alt="Screen"></p>

<p><img src="https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_2.png" alt="Screen"></p>

<p><img src="https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_3.png" alt="Screen"></p>

<p><img src="https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_4.png" alt="Screen"></p>

<p><img src="https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_5.png" alt="Screen"></p>

<p><img src="https://raw.githubusercontent.com/NephtysOrg/projet_sia/master/medias/images/screen_6.png" alt="Screen"></p>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/NephtysOrg" class="avatar"><img src="https://avatars2.githubusercontent.com/u/10256791?v=3&amp;s=60" width="48" height="48"></a> <a href="https://github.com/NephtysOrg">NephtysOrg</a> maintains <a href="https://github.com/NephtysOrg/projet_sia">Space Invaders 3D</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/NephtysOrg/projet_sia/tarball/master" class="tar">tar</a><a href="https://github.com/NephtysOrg/projet_sia/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
